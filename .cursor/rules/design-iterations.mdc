---
description: Guidelines for using the design iterations workflow for UI components
globs: ["docs/**/*.tsx", "docs/**/*.jsx", "docs/**/*.ts", "docs/**/*.js", "docs/**/*.md"]
alwaysApply: false
---
# Design Iterations System

The Design Iterations system is a powerful workflow that combines Playwright screenshots with AI assistance to rapidly evolve UI components through multiple iterations.

## Quick Start

```bash
# Generate design iterations for a specific target only
pnpm docs:design-iterations:count-5 --target="features-section" --prompt="Reimagine with bold visual hierarchy" --skip-other-sections
```

## AI-Driven Workflow

When a user asks about design iterations, you should:

1. **Understand their target component** - Common targets include:

   - `hero-section` - Main hero section on homepage
   - `features-section` - Features grid on homepage
   - `framework-section-react` - React framework comparison
   - `framework-section-remix` - Remix framework section
   - `compare-section` - Library comparison section

2. **Interpret design direction** - Extract design goals from their prompt:

   - Visual style (minimal, bold, modern, elegant)
   - Spacing preferences (tight, spacious, balanced)
   - Color themes (vibrant, subtle, monochrome, gradients)
   - Typography focus (improved hierarchy, readability)
   - Special elements (animations, interactions, visuals)

3. **Run appropriate commands** with proper prefix:

   ```bash
   # Generate iterations for ONLY the target component
   pnpm docs:design-iterations:count-5 --target="component-name" --prompt="detailed design direction" --skip-other-sections
   
   # Refine a specific iteration
   pnpm docs:design-iterations:refine --target="component-name"
   
   # Apply the chosen design
   pnpm docs:design-iterations:apply --iteration=N --target="component-name"
   
   # Check status of iterations
   pnpm docs:design-iterations:status
   
   # Clean up design artifacts when done
   pnpm docs:design-iterations:cleanup
   ```

4. **Pre-populate design feedback** - For each iteration:
   - Review the generated screenshots
   - Document design observations in the feedback template
   - Provide a summary of each variation's "vibe" and design choices
   - Highlight key differences between iterations

## Understanding Generated Artifacts

Each design iteration generates:

- Timestamped screenshots in `docs/static/screenshots/unified/XX-component-name-{light|dark}-{timestamp}.png`
- Copies of screenshots in `temp/design-iterations/iteration-N/screenshots/`
- Diffs in `temp/design-iterations/iteration-N/diff.patch` and `temp/possible-diffs/`
- Feedback template in `temp/design-iterations/iteration-N/feedback-template.md`
- Metadata in `temp/design-iterations/iteration-N/metadata.json`

## Best Practices

1. Only generate screenshots for the target section, not the entire page
2. Use existing baseline images in `docs/static/screenshots/unified/` for context
3. Review the screenshots and provide specific feedback for each iteration
4. Consider both light and dark mode versions
5. Apply the final design when satisfied
6. Clean up iterations when complete

## Common Issues

- If screenshots aren't generating correctly, try:
  - Check Playwright installation: `npx playwright install chromium`
  - Try verbose logging: `DEBUG=1 pnpm docs:design-iterations:count-1 --target="features-section"`
  - Ensure docs site is running: `pnpm start`

- If applying designs fails:
  - Check for uncommitted changes: `git status`
  - Try force flag: `pnpm docs:design-iterations:apply --iteration=N --target="component-name" --force`

@docs/scripts/design-iterations.mjs
@docs/scripts/design-iterations-init.mjs
@docs/docs/design-iterations/workflow.md
